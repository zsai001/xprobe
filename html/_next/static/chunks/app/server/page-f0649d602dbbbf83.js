(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[18],{2116:function(e,t,a){Promise.resolve().then(a.bind(a,6536))},6536:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return v}});var s=a(7437),r=a(2265),l=a(6463),i=a(83);let o=e=>{let{title:t,data:a,timeData:r,color:l,colorClass:o}=e;return(0,s.jsxs)("div",{className:"border dark:border-gray-700 rounded-lg p-4 shadow-sm ".concat(o," transition-colors duration-200"),children:[(0,s.jsx)(i.Z,{option:{title:{text:t,left:"center",textStyle:{color:"#374151",fontWeight:"bold",fontSize:16}},tooltip:{trigger:"axis"},xAxis:{type:"category",data:r,axisLabel:{rotate:45,fontSize:10}},yAxis:{type:"value",max:100,axisLabel:{formatter:"{value}%"}},series:[{data:a,type:"line",smooth:!0,itemStyle:{color:l},areaStyle:{color:l,opacity:.2}}]},style:{height:"200px"}}),(0,s.jsx)("div",{className:"mt-2 text-2xl font-bold text-center dark:text-gray-200",children:a.length>0?"".concat(a[a.length-1].toFixed(2),"%"):"0%"})]})},n=e=>{var t,a,r;let{latencyData:l,timeData:o,colorClass:n}=e,d={title:{text:"三网延时",left:"center",textStyle:{color:"#374151",fontWeight:"bold",fontSize:16}},tooltip:{trigger:"axis"},legend:{data:["电信","联通","移动"],bottom:0},xAxis:{type:"category",data:o,axisLabel:{rotate:45,fontSize:10}},yAxis:{type:"value",axisLabel:{formatter:"{value} ms"}},series:[{name:"电信",type:"line",data:l.telecom,smooth:!0,itemStyle:{color:"#8884d8"},areaStyle:{color:"#8884d8",opacity:.2}},{name:"联通",type:"line",data:l.unicom,smooth:!0,itemStyle:{color:"#82ca9d"},areaStyle:{color:"#82ca9d",opacity:.2}},{name:"移动",type:"line",data:l.mobile,smooth:!0,itemStyle:{color:"#ffc658"},areaStyle:{color:"#ffc658",opacity:.2}}]};return(0,s.jsxs)("div",{className:"border dark:border-gray-700 rounded-lg p-4 shadow-sm ".concat(n," transition-colors duration-200"),children:[(0,s.jsx)(i.Z,{option:d,style:{height:"200px"}}),(0,s.jsxs)("div",{className:"mt-2 text-center dark:text-gray-200",children:[(0,s.jsxs)("div",{children:["电信: ",(null===(t=l.telecom[l.telecom.length-1])||void 0===t?void 0:t.toFixed(2))||0,"ms"]}),(0,s.jsxs)("div",{children:["联通: ",(null===(a=l.unicom[l.unicom.length-1])||void 0===a?void 0:a.toFixed(2))||0,"ms"]}),(0,s.jsxs)("div",{children:["移动: ",(null===(r=l.mobile[l.mobile.length-1])||void 0===r?void 0:r.toFixed(2))||0,"ms"]})]})]})},d=e=>{let{vpsInfo:t,remainingValue:a,colorClass:r}=e,l=e=>e.toISOString().split("T")[0],i=e=>"$".concat(e.toFixed(2));return(0,s.jsxs)("div",{className:"border dark:border-gray-700 rounded-lg p-4 shadow-sm ".concat(r," transition-colors duration-200"),children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-3 text-center dark:text-gray-100",children:"VPS 存续信息"}),(0,s.jsxs)("div",{className:"space-y-2 dark:text-gray-200",children:[(0,s.jsx)(c,{label:"购买时间",value:l(t.purchaseDate)}),(0,s.jsx)(c,{label:"购买价格",value:i(t.purchasePrice)}),(0,s.jsx)(c,{label:"续费周期",value:"".concat(t.renewalPeriod," 个月")}),(0,s.jsx)(c,{label:"到期时间",value:l(t.expirationDate)}),(0,s.jsx)(c,{label:"剩余价值",value:i(a)})]})]})},c=e=>{let{label:t,value:a}=e;return(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[t,":"]}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:a})]})};var m=e=>{let{serverData:t}=e,[a,l]=(0,r.useState)([]),[i,c]=(0,r.useState)([]),[m,x]=(0,r.useState)([]),[h,u]=(0,r.useState)([]),[g,b]=(0,r.useState)([]),[p,j]=(0,r.useState)({telecom:[],unicom:[],mobile:[]});(0,r.useEffect)(()=>{let e=setInterval(()=>{let e=new Date().toLocaleTimeString();b(t=>[...t.slice(-19),e]),l(e=>[...e.slice(-19),100*Math.random()]),c(e=>[...e.slice(-19),100*Math.random()]),x(e=>[...e.slice(-19),100*Math.random()]),u(e=>[...e.slice(-19),100*Math.random()]),j(e=>({telecom:[...e.telecom.slice(-19),100*Math.random()],unicom:[...e.unicom.slice(-19),100*Math.random()],mobile:[...e.mobile.slice(-19),100*Math.random()]}))},1e3);return()=>clearInterval(e)},[]);let[v]=(0,r.useState)({purchaseDate:new Date("2023-01-01"),purchasePrice:500,renewalPeriod:12,expirationDate:new Date("2024-01-01")});return(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,s.jsx)(o,{title:"CPU 使用率",data:a,timeData:g,color:"#8884d8",colorClass:"bg-blue-50 dark:bg-blue-800/30"}),(0,s.jsx)(o,{title:"内存使用",data:i,timeData:g,color:"#82ca9d",colorClass:"bg-green-50 dark:bg-green-800/30"}),(0,s.jsx)(o,{title:"硬盘读写",data:m,timeData:g,color:"#ffc658",colorClass:"bg-yellow-50 dark:bg-yellow-800/30"}),(0,s.jsx)(o,{title:"网络使用",data:h,timeData:g,color:"#ff7300",colorClass:"bg-red-50 dark:bg-red-800/30"}),(0,s.jsx)(n,{latencyData:p,timeData:g,colorClass:"bg-purple-50 dark:bg-purple-800/30"}),(0,s.jsx)(d,{vpsInfo:v,remainingValue:(()=>{let e=new Date,t=(v.expirationDate.getTime()-v.purchaseDate.getTime())/864e5;return(v.expirationDate.getTime()-e.getTime())/864e5/t*v.purchasePrice})(),colorClass:"bg-indigo-50 dark:bg-indigo-800/30"})]})};let x=[{name:"CPU跑分",description:"CPU性能测试",type:"cpu"},{name:"磁盘性能",description:"读写速度测试",type:"disk"},{name:"网络性能",description:"带宽和延迟测试",type:"network"}];var h=e=>{let{serverData:t}=e,[a,l]=(0,r.useState)(null),[i,o]=(0,r.useState)([]),n=(e,t)=>{l(e),setTimeout(()=>{let a;switch(t){case"cpu":a=Math.floor(1e4*Math.random())+5e3;break;case"disk":a="".concat((500*Math.random()+100).toFixed(2)," MB/s");break;case"network":a="".concat((900*Math.random()+100).toFixed(2)," Mbps");break;default:a="N/A"}o(t=>[...t,{tool:e,score:a}]),l(null)},3e3)};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"性能测试"}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:x.map(e=>{var t;return(0,s.jsxs)("div",{className:"border rounded-lg p-4 shadow-sm",children:[(0,s.jsx)("h4",{className:"font-medium mb-2",children:e.name}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:e.description}),(0,s.jsx)("button",{onClick:()=>n(e.name,e.type),disabled:null!==a,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:bg-gray-400",children:a===e.name?"测试中...":"开始测试"}),i.find(t=>t.tool===e.name)&&(0,s.jsxs)("p",{className:"mt-2 font-bold",children:["结果: ",null===(t=i.find(t=>t.tool===e.name))||void 0===t?void 0:t.score]})]},e.name)})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"解锁信息"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"border rounded-lg p-4 shadow-sm",children:[(0,s.jsx)("h4",{className:"font-medium mb-2",children:"Netflix"}),(0,s.jsxs)("p",{className:"text-sm",children:["状态: ",(0,s.jsx)("span",{className:"font-bold text-green-500",children:"已解锁"})]})]}),(0,s.jsxs)("div",{className:"border rounded-lg p-4 shadow-sm",children:[(0,s.jsx)("h4",{className:"font-medium mb-2",children:"YouTube Premium"}),(0,s.jsxs)("p",{className:"text-sm",children:["状态: ",(0,s.jsx)("span",{className:"font-bold text-red-500",children:"未解锁"})]})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"IP健康度"}),(0,s.jsxs)("div",{className:"border rounded-lg p-4 shadow-sm",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{children:"健康度评分:"}),(0,s.jsx)("span",{className:"font-bold text-green-500",children:"95/100"})]}),(0,s.jsx)("div",{className:"mt-2 bg-gray-200 rounded-full h-2.5",children:(0,s.jsx)("div",{className:"bg-green-500 h-2.5 rounded-full",style:{width:"95%"}})}),(0,s.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"IP 状态良好，未发现异常"})]})]})]})},u=e=>{let{serverData:t}=e;return(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"文件系统"}),(0,s.jsx)("p",{children:"这里显示文件系统相关的信息"})]})},g=e=>{let{serverData:t}=e;return(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"服务状态"}),(0,s.jsx)("p",{children:"这里显示各种服务的运行状态"})]})},b=e=>{let{serverData:t}=e;return(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"终端连接"}),(0,s.jsx)("button",{onClick:()=>{},className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"连接到终端"}),(0,s.jsx)("p",{className:"mt-4 text-sm text-gray-600",children:"点击上面的按钮将尝试打开您的本地 SSH 客户端。如果没有反应，请确保您的系统已配置处理 SSH 协议。"})]})};let p=e=>{let{active:t,onClick:a,children:r}=e;return(0,s.jsx)("button",{className:"px-4 py-2 text-sm font-medium transition-all duration-200 border-b-2 ".concat(t?"text-primary border-primary":"text-gray-500 border-transparent hover:text-gray-700 hover:border-gray-300"),onClick:a,children:r})},j=()=>{let e=(0,l.useSearchParams)().get("id"),[t,a]=(0,r.useState)(null),[i,o]=(0,r.useState)(!0),[n,d]=(0,r.useState)("system"),[c]=(0,r.useState)({purchaseDate:new Date("2023-01-01"),purchasePrice:500,renewalPeriod:12,expirationDate:new Date("2024-01-01")});return((0,r.useEffect)(()=>{(async()=>{if(e){o(!0);try{setTimeout(()=>{o(!1)},1e3)}catch(e){console.error("Error fetching server data:",e),o(!1)}}})()},[e]),e&&!i&&t)?(0,s.jsx)("div",{className:"container mx-auto p-4",children:(0,s.jsxs)("div",{className:"bg-card text-card-foreground shadow-md rounded-lg border border-border overflow-hidden",children:[(0,s.jsxs)("div",{className:"flex justify-center space-x-1 bg-gray-100 p-2",children:[(0,s.jsx)(p,{active:"system"===n,onClick:()=>d("system"),children:"系统"}),(0,s.jsx)(p,{active:"monitoring"===n,onClick:()=>d("monitoring"),children:"监控"}),(0,s.jsx)(p,{active:"performance"===n,onClick:()=>d("performance"),children:"性能"}),(0,s.jsx)(p,{active:"report"===n,onClick:()=>d("report"),children:"报告"})]}),(0,s.jsxs)("div",{className:"p-6",children:["monitoring"===n&&(0,s.jsx)(m,{serverData:t}),"performance"===n&&(0,s.jsx)(h,{serverData:t}),"files"===n&&(0,s.jsx)(u,{serverData:t}),"services"===n&&(0,s.jsx)(g,{serverData:t}),"terminal"===n&&(0,s.jsx)(b,{serverData:t})]})]})}):(0,s.jsx)("div",{className:"container mx-auto p-4",children:"Loading..."})};var v=()=>(0,s.jsx)(r.Suspense,{fallback:(0,s.jsx)("div",{className:"container mx-auto p-4",children:"加载中..."}),children:(0,s.jsx)(j,{})})}},function(e){e.O(0,[727,971,23,744],function(){return e(e.s=2116)}),_N_E=e.O()}]);